{
  "chapter": 22,
  "title": "Inline Assembly",
  "fls_id": "fls_z1il3w9nulzy",
  "file": "inline-assembly",
  "extraction_date": "2025-12-31",
  "category_codes": {
    "0": "section",
    "-1": "general",
    "-2": "legality_rules",
    "-3": "dynamic_semantics",
    "-4": "undefined_behavior",
    "-5": "implementation_requirements",
    "-6": "implementation_permissions",
    "-7": "examples",
    "-8": "syntax"
  },
  "statistics": {
    "total_sections": 11,
    "total_paragraphs": 327,
    "paragraphs_by_category": {
      "-8": 7,
      "-4": 4,
      "-3": 10,
      "-2": 306
    }
  },
  "sections": [
    {
      "fls_id": "fls_z1il3w9nulzy",
      "title": "Inline Assembly",
      "category": 0,
      "level": 1,
      "file": "inline-assembly",
      "content": "Inline Assembly\n\nInline assembly is hand-written assembly code that is integrated into a\nRust program.\n\nInline assembly is written as an assembly code block that is\nwrapped inside a macro invocation of\nmacro core::arch::asm,\nmacro core::arch::global_asm, or\nmacro core::arch::naked_asm.\n\nInline assembly is available on the following architectures:\n\n* AArch64\n\n* ARM\n\n* RISC-V\n\n* x86 and x86-64",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_leamdp1r3hez": "Inline assembly is hand-written assembly code that is integrated into a Rust program.",
            "fls_3fg60jblx0xb": "Inline assembly is written as an assembly code block that is wrapped inside a macro invocation of macro core::arch::asm, macro core::arch::global_asm, or macro core::arch::naked_asm.",
            "fls_helnk2iz8qhp": "Inline assembly is available on the following architectures:",
            "fls_vanmt2dv7hzd": "AArch64",
            "fls_2n9el98anp8c": "RISC-V",
            "fls_pnoh31rvu9a6": "x86 and x86-64"
          }
        }
      },
      "parent_fls_id": null,
      "sibling_fls_ids": []
    },
    {
      "fls_id": "fls_j9l8wn6wgm06",
      "title": "Registers",
      "category": 0,
      "level": 2,
      "file": "inline-assembly",
      "content": "Registers\n\n ExplicitRegisterName ::=\n $$a$$[$$0$$-$$31$$]\n | $$ah$$ | $$al$$ | $$ax$$\n | $$b$$[$$0$$-$$31$$]\n | $$bh$$ | $$bl$$ | $$bp$$ | $$bpl$$ | $$bx$$\n | $$ch$$ | $$cl$$ | $$cx$$\n | $$d$$[$$0$$-$$31$$]\n | $$dh$$ | $$di$$ | $$dil$$ | $$dl$$ | $$dx$$\n | $$eax$$ | $$ebp$$ | $$ebx$$ | $$ecx$$ | $$edi$$ | $$edx$$ | $$eip$$ | $$esi$$\n | $$esp$$\n | $$f$$[$$0$$-$$31$$]\n | $$fa$$[$$0$$-$$7$$]\n | $$ffr$$ | $$fp$$\n | $$fs$$[$$0$$-$$11$$]\n | $$ft$$[$$0$$-$$11$$]\n | $$gp$$\n | $$h$$[$$0$$-$$31$$]\n | $$ip$$\n | $$k$$[$$0$$-$$7$$]\n | $$lr$$\n | $$m$$[$$0$$-$$7$$]\n | $$p$$[$$0$$-$$15$$]\n | $$pc$$\n | $$q$$[$$0$$-$$31$$]\n | $$r$$[$$0$$-$$15$$]\n | $$r$$[$$8$$-$$15$$]$$d$$\n | $$r$$[$$8$$-$$15$$]$$w$$\n | $$ra$$ | $$rax$$\n | $$rb$$[$$8$$-$$15$$]\n | $$rbp$$ | $$rbx$$ | $$rcx$$\n | $$rdi$$ | $$rdx$$ | $$rfp$$ | $$rip$$ | $$rsi$$ | $$rsp$$\n | $$s$$[$$0$$-$$31$$]\n | $$si$$ | $$sil$$ | $$sl$$ | $$sp$$ | $$spl$$\n | $$st($$[$$0$$-$$7$$]$$)$$\n | $$t$$[$$0$$-$$6$$]\n | $$tmm$$[$$0$$-$$7$$]\n | $$tp$$\n | $$v$$[$$0$$-$$31$$]\n | $$w$$[$$0$$-$$31$$]\n | $$wsp$$ | $$wzr$$\n | $$x$$[$$0$$-$$31$$]\n | $$xmm$$[$$0$$-$$31$$]\n | $$xzr$$\n | $$ymm$$[$$0$$-$$31$$]\n | $$zero$$\n | $$zmm$$[$$0$$-$$31$$]\n\nA register is a hardware component capable of holding data that can be\nread and written.\n\nAn input register is a register whose register name is used in\na register argument subject to direction modifier in, inout,\nor inlateout.\n\nAn output register is a register whose register name is\nused in a register argument subject to direction modifier out,\nlateout, inout, or inlateout.\n\nA register that is not specified as an output register shall have the\nsame value upon exit from an assembly code block as it did upon entry\ninto the assembly code block.\n\nA register name is either the explicit register name of a\nregister, or the register class name of the register class a\nregister belongs to.\n\nAn explicit register name is a target-specific string that identifies\na register.\n\nAn explicit register name may be aliased as follows:\n\nCertain [explicit register name]s are not supported on selected\narchitectures, as follows:\n\nIt is a static error to use an unsupported explicit register name.\n\nIt is undefined behavior if a register that is not specified as an\noutput register has a different value upon exit from an\nassembly code block from the value it had upon entry into the\nassembly code block.",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_w5a6rybvptn6": "A register is a hardware component capable of holding data that can be read and written.",
            "fls_rr8rsy7oilf0": "An input register is a register whose register name is used in a register argument subject to direction modifier in, inout, or inlateout.",
            "fls_5ruu8n6r9mvp": "An output register is a register whose register name is used in a register argument subject to direction modifier out, lateout, inout, or inlateout.",
            "fls_HV3Y1A2xn0zr": "A register that is not specified as an output register shall have the same value upon exit from an assembly code block as it did upon entry into the assembly code block.",
            "fls_vesfzh8h6qzu": "A register name is either the explicit register name of a register, or the register class name of the register class a register belongs to.",
            "fls_ffwqxlh60i5w": "An explicit register name is a target-specific string that identifies a register.",
            "fls_3p8akc7gcsnx": "An explicit register name may be aliased as follows: .. list-table:: -",
            "fls_7dlx7nt77xk": "- **Architecture** - **Explicit register name** - **Aliases** -",
            "fls_w4z7yh5qyyed": "- AArch64 - sp - wsp -",
            "fls_rzp8eg6z6x3q": "- AArch64 - v[0-31] - b[0-31], d[0-31], h[0-31], q[0-31], s[0-31] -",
            "fls_e1w41918j49": "- AArch64 - x[0-30] - w[0-30] -",
            "fls_q0s90h7xmnn4": "- AArch64 - x29 - fp -",
            "fls_3pt63w76isay": "- AArch64 - x30 - lr -",
            "fls_f3clxd3vidhh": "- AArch64 - xzr - wzr -",
            "fls_vyeczg1cjxys": "- ARM - r[0-3] - a[1-4] -",
            "fls_h5t153uhzoq3": "- ARM - r[4-9] - v[1-6] -",
            "fls_jhph577nqds1": "- ARM - r9 - rfp -",
            "fls_mobj1y67vxvb": "- ARM - r10 - sl -",
            "fls_9ke412je1hqn": "- ARM - r11 - fp -",
            "fls_hndlas58937e": "- ARM - r12 - ip -",
            "fls_5x0yvjil3z8p": "- ARM - r13 - sp -",
            "fls_gxvlvnqs436h": "- ARM - r14 - lr -",
            "fls_mra7zuu7uzmb": "- ARM - r15 - pc -",
            "fls_maa7w0jwvat2": "- RISC-V - f[0-7] - ft[0-7] -",
            "fls_az7kcaq70h4d": "- RISC-V - f[8-9] - fs[0-1] -",
            "fls_xudmsflrhvo3": "- RISC-V - f[10-17] - fa[0-7] -",
            "fls_px77cr1k8coy": "- RISC-V - f[18-27] - fs[2-11] -",
            "fls_y1m7tlqk2dv7": "- RISC-V - f[28-31] - ft[8-11] -",
            "fls_3dqq9319okv5": "- RISC-V - x0 - zero -",
            "fls_5l9qo5c0gek8": "- RISC-V - x1 - ra -",
            "fls_1m68zqsxjuyp": "- RISC-V - x2 - sp -",
            "fls_bck9slu4hsn1": "- RISC-V - x3 - gp -",
            "fls_3x72q39c8iwt": "- RISC-V - x4 - tp -",
            "fls_yfbrla8c801g": "- RISC-V - x[5-7] - t[0-2] -",
            "fls_3nuf1gcldamv": "- RISC-V - x8 - fp, s0 -",
            "fls_nquf1uaoezx6": "- RISC-V - x9 - s1 -",
            "fls_91oeyxc75vu5": "- RISC-V - x[10-17] - a[0-7] -",
            "fls_r5btazdpwqtw": "- RISC-V - x[18-27] - s[2-11] -",
            "fls_vpibsan8aful": "- RISC-V - x[28-31] - t[3-6] -",
            "fls_lj6xcaaecokk": "- x86 - ax - eax, rax -",
            "fls_bb1qjfin4zjc": "- x86 - bp - bpl, ebp, rbp -",
            "fls_7qj6pxuq2x9e": "- x86 - bx - ebx, rbx -",
            "fls_2xkw4nqt1s5a": "- x86 - cx - ecx, rcx -",
            "fls_dpzi4ygox7jw": "- x86 - di - edi, rdi -",
            "fls_yr5ztipvgezk": "- x86 - dx - edx, rdx -",
            "fls_n8ccafjut1yd": "- x86 - ip - eip, rip -",
            "fls_iv23mcgw6l3r": "- x86 - r[8-15] - r[8-15]b, r[8-15]d, r[8-15]w -",
            "fls_yr7bac5k3uk7": "- x86 - si - esi, rsi -",
            "fls_gvb2zcrseqci": "- x86 - sp - esp, rsp, spl -",
            "fls_z1b9nf49nbjh": "- x86 - st(0) - st -",
            "fls_etfkcesnrlwt": "- x86 - xmm[0-31] - ymm[0-31], zmm[0-31]",
            "fls_8sqzva4ibf0i": "Certain [explicit register name]s are not supported on selected architectures, as follows: .. list-table:: -",
            "fls_8bo9p6mybuzi": "- **Architecture** - **Explicit register name** - **Reason** -",
            "fls_dk4z9dracvps": "- all - sp - The stack pointer must be restored to its original value on exit from an assembly code block. -",
            "fls_7c7lgvw8gbkb": "- AArch64 - x18 - OS-reserved register on some AArch64 targets. -",
            "fls_sb0ffx31gul9": "- AArch64 - x19 - Internally used by LLVM as a base pointer for [function]s with complex stack frames. -",
            "fls_f9psgjl6ervm": "- AArch64 - x29 - The frame pointer cannot be used as an input or output. -",
            "fls_3y3b7znxznzu": "- AArch64 - xzr - The constant zero register cannot be modified. -",
            "fls_7y201ev5b0mq": "- ARM - pc - The program counter cannot be modified. -",
            "fls_r2aoetnwhjkf": "- ARM - r6 - Internally used by LLVM as a base pointer for [function]s with complex stack frames. -",
            "fls_54n4ie3frc39": "- ARM - r7, r11 - The frame pointer cannot be used as an input or output. -",
            "fls_iok8gc906tc8": "- ARM - r9 - OS-reserved register on some ARM targets. -",
            "fls_2mgjkyngbmbr": "- RISC-V - gp, tp - Reserved [register]s. -",
            "fls_6tlnpguf23y3": "- RISC-V - x0 - The constant zero register cannot be modified. -",
            "fls_bz5xyv89i5m7": "- RISC-V - x8 - The frame pointer cannot be used as an input or output. -",
            "fls_soitzjqze3rf": "- RISC-V - x9 - Internally used by LLVM as a base pointer for [function]s with complex stack frames. -",
            "fls_b2c02r5y6zm9": "- x86 - bp - The frame pointer cannot be used as an input or output. -",
            "fls_2ufm8y5ttcxf": "- x86 - ip - The program counter cannot be modified. -",
            "fls_ub321ic94bbl": "- x86-32 - si - Internally used by LLVM as a base pointer for [function]s with complex stack frames. -",
            "fls_gtwmwsmyrdxe": "- x86-64 - bx - Internally used by LLVM as a base pointer for [function]s with complex stack frames.",
            "fls_vy8alu9yuza9": "It is a static error to use an unsupported explicit register name."
          }
        },
        "-4": {
          "paragraphs": {
            "fls_zEtLZ5KjQcHS": "It is undefined behavior if a register that is not specified as an output register has a different value upon exit from an assembly code block from the value it had upon entry into the assembly code block."
          }
        },
        "-8": {
          "paragraphs": {
            "syntax_1": "RegisterName ::=\n       $$\"$$ ExplicitRegisterName $$\"$$\n     | RegisterClassName\n\n   ExplicitRegisterName ::=\n       $$a$$[$$0$$-$$31$$]\n     | $$ah$$    | $$al$$    | $$ax$$\n     | $$b$$[$$0$$-$$31$$]\n     | $$bh$$    | $$bl$$    | $$bp$$    | $$bpl$$   | $$bx$$\n     | $$ch$$    | $$cl$$    | $$cx$$\n     | $$d$$[$$0$$-$$31$$]\n     | $$dh$$    | $$di$$    | $$dil$$   | $$dl$$    | $$dx$$\n     | $$eax$$   | $$ebp$$   | $$ebx$$   | $$ecx$$   | $$edi$$   | $$edx$$   | $$eip$$   | $$esi$$\n     | $$..."
          }
        }
      },
      "parent_fls_id": "fls_z1il3w9nulzy",
      "sibling_fls_ids": [
        "fls_pz2ioqchjtym",
        "fls_hejgghwzblf",
        "fls_e0896uk0mdyl",
        "fls_a3joqzqp1v9d",
        "fls_ylli0ortyegk",
        "fls_qezwyridmjob",
        "fls_MW7mtH5oOeQ1"
      ]
    },
    {
      "fls_id": "fls_pz2ioqchjtym",
      "title": "Register Classes",
      "category": 0,
      "level": 2,
      "file": "inline-assembly",
      "content": "Register Classes\n\nA register class represents a set of [register]s.\n\nA register class name is a target-specific string that identifies a\nregister class.\n\n[Register]s are organized into [register class]es as follows:\n\nIf a value has a smaller size than the register it is allocated in,\nthen\n\n* On RISC-V architectures, if the register belongs to register class\n freg, then f32 [value]s are NaN-boxed <NaN-boxing>. in a\n f64 value.\n\n* Otherwise, for an input register, the upper bits of the register\n have an undefined value.\n\n* Otherwise, for an output register, the upper bits are ignored.\n\nIf a register argument has direction modifier inout and an\ninput-output register expression, then the input register expression\nand the output register expression shall have the same type.",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_7gxb7ztpuofj": "A register class represents a set of [register]s.",
            "fls_on0i2cpk254y": "A register class name is a target-specific string that identifies a register class.",
            "fls_40ksem5g5xx9": "[Register]s are organized into [register class]es as follows: .. list-table:: -",
            "fls_fqvjk6caipq": "- **Architecture** - **Register class name** - **Explicit register names** -",
            "fls_u0ie66ep3glg": "- AArch64 - preg - p[0-15], ffr -",
            "fls_wcvcansd88je": "- AArch64 - reg - x[0-30] -",
            "fls_sbllpky4d7ka": "- AArch64 - vreg - v[0-31] -",
            "fls_nmx5xs829ms": "- AArch64 - vreg_low16 - v[0-15] -",
            "fls_nars4y8tv2w6": "- ARM / Thumb2 - reg - r[0-12], r14 -",
            "fls_b5juxguclqjs": "- ARM / Thumb1 - reg - r[0-7] -",
            "fls_vmigixoxm5uf": "- ARM - dreg - d[0-31] -",
            "fls_vdqtbc4t69v2": "- ARM - dreg_low8 - d[0-8] -",
            "fls_t2d77dazjyjo": "- ARM - dreg_low16 - d[0-15] -",
            "fls_jh02uk3ypett": "- ARM - qreg - q[0-15] -",
            "fls_rjk5laiyqagy": "- ARM - qreg_low4 - q[0-3] -",
            "fls_26bq6wbwznx": "- ARM - qreg_low8 - q[0-8] -",
            "fls_6d25i0lkzd7u": "- ARM - sreg - s[0-31] -",
            "fls_y52suhleyid2": "- ARM - sreg_low16 - s[0-15] -",
            "fls_7b7c8xtm8fr7": "- RISC-V - freg - f[0-31] -",
            "fls_ue0se3dcop6w": "- RISC-V - reg - x1, x[0-7], x[9-15], x[16-31] (on non-RV32E) -",
            "fls_2m49cyfqffvo": "- RISC-V - vreg - v[0-31] -",
            "fls_mj1t0f9lp6v8": "- x86 - kreg - k[1-7] -",
            "fls_tpkkubhjt7lk": "- x86 - kreg0 - k0 -",
            "fls_ivq874v4lmga": "- x86 - mmx_reg - mm[0-7] -",
            "fls_2wdcrocczwyi": "- x86 - reg - ax, bp, bx, cx, di, dx, r[8-15], si -",
            "fls_v04te7p28dth": "- x86 - reg_abcd - ax, bx, cx, dx -",
            "fls_uypct69j2h6a": "- x86 - x87_reg - st([0-7]) -",
            "fls_gyet9huf6nr": "- x86 - xmm_reg - xmm[0-7], xmm[8-15] (on 64bit only) -",
            "fls_5ekbq9hacho9": "- x86 - ymm_reg - ymm[0-7], ymm[8-15] (on 64bit only) -",
            "fls_furnyxmwqn09": "- x86 - zmm_reg - zmm[0-7], zmm[8-15] (on 64bit only) -",
            "fls_1c4ts991vkpq": "- x86-32 - reg_byte - ah, al, bh, bl, ch, cl, dh, dl -",
            "fls_iwnb72jb9iwj": "- x86-64 - reg_byte - al, bl, bpl, cl, dil, dl, sil, r[8-15]b -",
            "fls_mw3axoixjgnq": "- x86-64 - tmm_reg - tmm[0-7]",
            "fls_mnzt6bxhycv9": "If a value has a smaller size than the register it is allocated in, then",
            "fls_drg7v8hxb5ca": "On RISC-V architectures, if the register belongs to register class freg, then f32 [value]s are NaN-boxed <NaN-boxing>. in a f64 value.",
            "fls_78gb8z1fyluc": "Otherwise, for an input register, the upper bits of the register have an undefined value.",
            "fls_7dii7lee457t": "Otherwise, for an output register, the upper bits are ignored.",
            "fls_ujhjocg1361b": "If a register argument has direction modifier inout and an input-output register expression, then the input register expression and the output register expression shall have the same type."
          }
        },
        "-8": {
          "paragraphs": {
            "syntax_1": "RegisterClassName ::=\n       $$dreg$$\n     | $$dreg_low16$$\n     | $$dreg_low8$$\n     | $$freg$$\n     | $$kreg$$\n     | $$kreg0$$\n     | $$mmx_reg$$\n     | $$preg$$\n     | $$qreg$$\n     | $$qreg_low4$$\n     | $$qreg_low8$$\n     | $$reg$$\n     | $$reg_abcd$$\n     | $$reg_byte$$\n     | $$sreg$$\n     | $$sreg_low16$$\n     | $$tmm_reg$$\n     | $$vreg$$\n     | $$vreg_low16$$\n     | $$x86_reg$$\n     | $$xmm_reg$$\n     | $$ymm_reg$$\n     | $$zmm_reg$$"
          }
        }
      },
      "parent_fls_id": "fls_z1il3w9nulzy",
      "sibling_fls_ids": [
        "fls_j9l8wn6wgm06",
        "fls_hejgghwzblf",
        "fls_e0896uk0mdyl",
        "fls_a3joqzqp1v9d",
        "fls_ylli0ortyegk",
        "fls_qezwyridmjob",
        "fls_MW7mtH5oOeQ1"
      ]
    },
    {
      "fls_id": "fls_hejgghwzblf",
      "title": "Register Arguments",
      "category": 0,
      "level": 2,
      "file": "inline-assembly",
      "content": "Register Arguments\n\n DirectionModifier ::=\n $$in$$\n | $$inlateout$$\n | $$inout$$\n | $$lateout$$\n | $$out$$\n\n RegisterExpression ::=\n InputOutputRegisterExpression\n | SimpleRegisterExpression\n | ConstRegisterExpression\n | SymPathExpression\n\n InputOutputRegisterExpression ::=\n InputRegisterExpression $$=>$$ OutputRegisterExpression\n | InputRegisterExpression $$=>$$ UnderscoreExpression\n\n InputRegisterExpression ::=\n Expression\n\n OutputRegisterExpression ::=\n Expression\n\n SimpleRegisterExpression ::=\n Expression\n | UnderscoreExpression\n\n ConstRegisterExpression ::=\n $$const$$ Expression\n\n SymPathExpression ::=\n $$sym$$ PathExpression\n\nA register argument is a construct that configures the input\nand output of a register, and optionally binds the configuration to an\nidentifier.\n\nA register argument shall be used within an assembly instruction.\n\nA named register argument is a register argument whose configuration\nis bound to an identifier.\n\nA positional register argument is a register argument whose\nconfiguration is not bound to an identifier.\n\nA named register argument shall appear after a\npositional register argument.\n\nAn explicit register argument is a register argument that uses an\nexplicit register name.\n\nAn explicit register argument shall appear after a\nnamed register argument.\n\nA register class argument is a register argument that uses a\nregister class name.\n\nA register class argument causes an assembler to select a suitable\nregister from the related register class.\n\nA direction modifier is a construct that indicates whether a\nregister argument initializes a register, assigns the value of a\nregister to an expression, or both.\n\nAn input register expression is an expression that provides the\ninitial value of a register.\n\nAn output register expression is an expression that is assigned the\nvalue of a register.\n\nA const register expression is an expression that is evaluated at compile-time.\n\nAn input-output register expression is a construct that specifies\nboth an input register expression and an output register expression.\n\nA simple register expression is either an expression or an\nunderscore expression.\n\nA register expression is either an input-output register expression, a simple register expression or a const register expression.\n\nThe type of a const register expression shall be an integer type.\n\nA sym path expression is a way for the assembly code block to refer either to\na function name or a static name.\n\nThe type of an input register expression,\noutput register expression, or simple register expression shall\ndepend on the architecture and the target feature in effect, as follows:\n\nIf a register argument has direction modifier in and a\nsimple register expression, then\n\n* Upon entry of an assembly code block, the register contains the\n value of the simple register expression.\n\n* On exit from an assembly code block, the register shall contain\n the same value, unless the register is subject to\n direction modifier lateout.\n\nIf a register argument has direction modifier out and a\nsimple register expression, then\n\n* Upon entry of an assembly code block, the register contains an\n undefined value.\n\n* On exit from an assembly code block, the value of the register\n is assigned to the simple register expression. The\n simple register expression shall be a place expression.\n\n* If the simple register expression is an underscore expression, then\n the value of the register is discarded.\n\nIf a register argument has direction modifier lateout and a\nsimple register expression, then the register argument behaves as a\nregister argument with direction modifier out, except that the\nregister can be reused with direction modifier in.\n\nIf a register argument has direction modifier inout and a\nsimple register expression, then\n\n* Upon entry of an assembly code block, the register contains the\n value of the simple register expression.\n\n* On exit from an assembly code block, the value of the register\n is assigned to the place indicated by the simple register expression.\n The simple register expression shall be a mutable place expression.\n\nIf a register argument has direction modifier inout and an\ninput-output register expression, then\n\n* Upon entry of an assembly code block, the register contains the\n value of the input register expression.\n\n* On exit from an assembly code block, the value of the register\n is assigned to the place indicated by the output register expression.\n The output register expression shall be a place expression.\n\n* If the output register expression is an underscore expression, then\n the value of the register is discarded.\n\nIf a register argument has direction modifier inlateout and a\nsimple register expression, then the register argument behaves as a\nregister argument with direction modifier inout, except that the\nregister can be reused with direction modifier in.\n\nIf a register argument has direction modifier inlateout and an\ninput-output register expression, then the register argument behaves\nas a register argument with direction modifier inout, except that\nthe register can be reused with direction modifier in.\n\nIt is a static error to specify a register argument with\ndirection modifier and register expression other than the\ncombinations listed above.\n\nThe evaluation of a register argument proceeds as follows:\n\n* If a register argument has an input-output register expression,\n then\n\n #. The input register expression is evaluated.\n\n #. The output register expression is evaluated.\n\n* If a register argument has a simple register expression, then the\n simple register expression is evaluated.",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_455dmnp4cxqv": "A register argument is a construct that configures the input and output of a register, and optionally binds the configuration to an identifier.",
            "fls_6bv3s8be5xif": "A register argument shall be used within an assembly instruction.",
            "fls_uddjvkz4g899": "A named register argument is a register argument whose configuration is bound to an identifier.",
            "fls_sqs5to20p0te": "A positional register argument is a register argument whose configuration is not bound to an identifier.",
            "fls_dzlycyk24euk": "A named register argument shall appear after a positional register argument.",
            "fls_ics6gdzww1p": "An explicit register argument is a register argument that uses an explicit register name.",
            "fls_mmc1w8jjr55r": "An explicit register argument shall appear after a named register argument.",
            "fls_9hhtcey2d4t6": "A register class argument is a register argument that uses a register class name.",
            "fls_8aynifgq02gt": "A register class argument causes an assembler to select a suitable register from the related register class.",
            "fls_5a3vfresnv5z": "A direction modifier is a construct that indicates whether a register argument initializes a register, assigns the value of a register to an expression, or both.",
            "fls_fta1gb5tzi3a": "An input register expression is an expression that provides the initial value of a register.",
            "fls_sopiivuae0x7": "An output register expression is an expression that is assigned the value of a register.",
            "fls_81Ju1TEqJ48K": "A const register expression is an expression that is evaluated at compile-time.",
            "fls_kkrcyk96w8x1": "An input-output register expression is a construct that specifies both an input register expression and an output register expression.",
            "fls_aniw4ehsn2kb": "A simple register expression is either an expression or an underscore expression.",
            "fls_j9XOoXDmN5Dq": "A register expression is either an input-output register expression, a simple register expression or a const register expression.",
            "fls_jU8zg4k8dFsY": "The type of a const register expression shall be an integer type.",
            "fls_y2wCBvXDtQK2": "A sym path expression is a way for the assembly code block to refer either to a function name or a static name.",
            "fls_66owmltvhnu4": "The type of an input register expression, output register expression, or simple register expression shall depend on the architecture and the target feature in effect, as follows: .. list-table:: -",
            "fls_72p8e4bo6pns": "- **Architecture** - **Register class name** - **Target feature** - **Allowed types** -",
            "fls_z0dbmmp5yblf": "- AArch64 - preg - n/a - Only clobbers -",
            "fls_4jdnt8uap95i": "- AArch64 - reg - none - i8, i16, i32, f32, i64, f64 -",
            "fls_wd2hzsbzdg2y": "- AArch64 - vreg - neon - i8, i16, i32, f32, i64, f64 -",
            "fls_sqy00lg5j7c6": "- ARM - dreg - vfp2 - i64, f64 -",
            "fls_vxba1ttvz6hh": "- ARM - reg - none - i8, i16, i32, f32 -",
            "fls_xkbnla2avrn0": "- ARM - sreg - vfp2 - i32, f32 -",
            "fls_w6jhcv616l9o": "- RISC-V - freg - f - f32 -",
            "fls_xweobiwapog1": "- RISC-V - freg - d - f64 -",
            "fls_4matyejw6cls": "- RISC-V - vreg - n/a - Only clobbers -",
            "fls_hklqabav1jju": "- RISC-V32 - reg - none - i8, i16, i32, f32 -",
            "fls_nq22h8gragil": "- RISC-V64 - reg - none - i8, i16, i32, f32, i64, f64 -",
            "fls_uxgcrs57bznk": "- x86 - kreg - avx512f - i8, i16 -",
            "fls_ym05938ejwng": "- x86 - kreg - avx512bw - i32, i64 -",
            "fls_5l77g8h8et2o": "- x86 - mmx_reg - n/a - Only clobbers -",
            "fls_xlcliuums5b0": "- x86 - reg_byte - none - i8 -",
            "fls_5p4hyl7mxgai": "- x86 - tmm_reg - n/a - Only clobbers -",
            "fls_ilepg263w5o7": "- x86 - x87_reg - n/a - Only clobbers -",
            "fls_tubmavru8wvn": "- x86 - xmm_reg - sse - i32, f32, i64, f64 -",
            "fls_b1xi3u9k4pdl": "- x86 - ymm_reg - avx - i32, f32, i64, f64 -",
            "fls_i9ds6724tv20": "- x86 - zmm_reg - avx512f - i32, f32, i64, f64 -",
            "fls_trldyekxxlzx": "- x86-32 - reg - none - i16, i32, f32 -",
            "fls_efmpbyi4qjmf": "- x86-64 - reg - none - i16, i32, f32, i64, f64",
            "fls_4x3w50w7qm8w": "If a register argument has direction modifier in and a simple register expression, then",
            "fls_6cne58tlquze": "Upon entry of an assembly code block, the register contains the value of the simple register expression.",
            "fls_5w718fne9jsh": "On exit from an assembly code block, the register shall contain the same value, unless the register is subject to direction modifier lateout.",
            "fls_tel7kogaqytg": "If a register argument has direction modifier out and a simple register expression, then",
            "fls_aw61psz5drg8": "Upon entry of an assembly code block, the register contains an undefined value.",
            "fls_sv2x3x81b32j": "On exit from an assembly code block, the value of the register is assigned to the simple register expression. The simple register expression shall be a place expression.",
            "fls_nebb0nhxf5ix": "If the simple register expression is an underscore expression, then the value of the register is discarded.",
            "fls_j0pxc8g8kcxm": "If a register argument has direction modifier lateout and a simple register expression, then the register argument behaves as a register argument with direction modifier out, except that the register can be reused with direction modifier in.",
            "fls_wwh6xyclxwqj": "If a register argument has direction modifier inout and a simple register expression, then",
            "fls_qcb47z1ap9dz": "Upon entry of an assembly code block, the register contains the value of the simple register expression.",
            "fls_h01au4vk8mjd": "On exit from an assembly code block, the value of the register is assigned to the place indicated by the simple register expression. The simple register expression shall be a mutable place expression.",
            "fls_92ijsf4p6yn": "If a register argument has direction modifier inout and an input-output register expression, then",
            "fls_xkui7j3gnfg0": "Upon entry of an assembly code block, the register contains the value of the input register expression.",
            "fls_eahyqniqs2pn": "On exit from an assembly code block, the value of the register is assigned to the place indicated by the output register expression. The output register expression shall be a place expression.",
            "fls_5g7p2zo07gfe": "If the output register expression is an underscore expression, then the value of the register is discarded.",
            "fls_dobbatnjs0yt": "If a register argument has direction modifier inlateout and a simple register expression, then the register argument behaves as a register argument with direction modifier inout, except that the register can be reused with direction modifier in.",
            "fls_ax8t4uta34ym": "If a register argument has direction modifier inlateout and an input-output register expression, then the register argument behaves as a register argument with direction modifier inout, except that the register can be reused with direction modifier in.",
            "fls_dvft4ha00wj3": "It is a static error to specify a register argument with direction modifier and register expression other than the combinations listed above."
          }
        },
        "-3": {
          "paragraphs": {
            "fls_2ekwpx2bwj1b": "The evaluation of a register argument proceeds as follows:",
            "fls_3s2n9dlrlhz9": "If a register argument has an input-output register expression, then #.",
            "fls_nbkkz6krcngi": "The input register expression is evaluated. #.",
            "fls_utrvenwrettz": "The output register expression is evaluated.",
            "fls_n85sjh925x": "If a register argument has a simple register expression, then the simple register expression is evaluated."
          }
        },
        "-8": {
          "paragraphs": {
            "syntax_1": "RegisterArgument ::=\n       (Identifier $$=$$)? ( DirectionModifier $$($$ RegisterName $$)$$ )? RegisterExpression\n\n   DirectionModifier ::=\n       $$in$$\n     | $$inlateout$$\n     | $$inout$$\n     | $$lateout$$\n     | $$out$$\n\n   RegisterExpression ::=\n       InputOutputRegisterExpression\n     | SimpleRegisterExpression\n     | ConstRegisterExpression\n     | SymPathExpression\n\n   InputOutputRegisterExpression ::=\n       InputRegisterExpression $$=>$$ OutputRegisterExpression\n     | InputRegister..."
          }
        }
      },
      "parent_fls_id": "fls_z1il3w9nulzy",
      "sibling_fls_ids": [
        "fls_j9l8wn6wgm06",
        "fls_pz2ioqchjtym",
        "fls_e0896uk0mdyl",
        "fls_a3joqzqp1v9d",
        "fls_ylli0ortyegk",
        "fls_qezwyridmjob",
        "fls_MW7mtH5oOeQ1"
      ]
    },
    {
      "fls_id": "fls_e0896uk0mdyl",
      "title": "Assembly Instructions",
      "category": 0,
      "level": 2,
      "file": "inline-assembly",
      "content": "Assembly Instructions\n\n AssemblyInstruction ::=\n StringLiteral\n\nAn assembly instruction is a string literal that represents a\nlow-level assembly operation or an assembly directive.\n\nAn assembly instruction shall use the syntax of format strings as\ndefined in module std::fmt, and contain zero or more\n[register parameter]s.\n\nAn assembly code block is a sequence of [assembly instruction]s.\n\nWhen an assembly code block contains multiple [assembly instruction]s,\nthe [assembly instruction]s are treated as concatenated into a single\nstring literal, with character 0x0A (new line) between them.\n\nThe set of memory locations that an assembly code block is allowed to\nread and write are the same as those for an external function, excluding\nthe memory locations that are private to the assembly code block.\n\nA tool is not required to guarantee that an assembly code block appears\nexactly once in the final assembly output.\n\nA tool is not required to guarantee that two [assembly code block]s\nappear in the same declarative order in the final assembly output, or appear\ncontiguously in successive addresses.\n\nA register parameter is a substring delimited by characters 0x7B (left\ncurly bracket) and 0x7D (right curly bracket) that is substituted with a\nregister argument in an assembly instruction.\n\nOn x86 architectures, direction flag DF in register EFLAGS shall\nbe cleared on exit from an assembly code block.\n\nOn x86 architectures, it is undefined behavior if direction flag DF in\nregister EFLAGS remains set on exit from an assembly code block.",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_4jr7eg6e0g4w": "An assembly instruction is a string literal that represents a low-level assembly operation or an assembly directive.",
            "fls_ihjhpy4osl53": "An assembly instruction shall use the syntax of format strings as defined in module std::fmt, and contain zero or more [register parameter]s.",
            "fls_2d05gcixjrzt": "An assembly code block is a sequence of [assembly instruction]s.",
            "fls_z64f094aivp6": "When an assembly code block contains multiple [assembly instruction]s, the [assembly instruction]s are treated as concatenated into a single string literal, with character 0x0A (new line) between them.",
            "fls_u8lifqig90gq": "The set of memory locations that an assembly code block is allowed to read and write are the same as those for an external function, excluding the memory locations that are private to the assembly code block.",
            "fls_lfeun3er5sc9": "A tool is not required to guarantee that an assembly code block appears exactly once in the final assembly output.",
            "fls_mmdmymljq8a3": "A tool is not required to guarantee that two [assembly code block]s appear in the same declarative order in the final assembly output, or appear contiguously in successive addresses.",
            "fls_xugsn2ghh73c": "A register parameter is a substring delimited by characters 0x7B (left curly bracket) and 0x7D (right curly bracket) that is substituted with a register argument in an assembly instruction.",
            "fls_opnxq5kyw9jo": "On x86 architectures, direction flag DF in register EFLAGS shall be cleared on exit from an assembly code block."
          }
        },
        "-4": {
          "paragraphs": {
            "fls_wydu9yft7a3r": "On x86 architectures, it is undefined behavior if direction flag DF in register EFLAGS remains set on exit from an assembly code block."
          }
        },
        "-8": {
          "paragraphs": {
            "syntax_1": "AssemblyCodeBlock ::=\n       AssemblyInstruction ($$,$$ AssemblyInstruction)*\n\n   AssemblyInstruction ::=\n       StringLiteral"
          }
        }
      },
      "parent_fls_id": "fls_z1il3w9nulzy",
      "sibling_fls_ids": [
        "fls_j9l8wn6wgm06",
        "fls_pz2ioqchjtym",
        "fls_hejgghwzblf",
        "fls_a3joqzqp1v9d",
        "fls_ylli0ortyegk",
        "fls_qezwyridmjob",
        "fls_MW7mtH5oOeQ1"
      ]
    },
    {
      "fls_id": "fls_lv19xysy1f7e",
      "title": "Register Parameter Modifiers",
      "category": 0,
      "level": 3,
      "file": "inline-assembly",
      "content": "Register Parameter Modifiers\n\nA register parameter modifier is a substring that starts with character\n0x3A (colon), follows a register parameter, and changes the formatting of\nthe related register parameter.\n\nThe effects of a register parameter modifier depends on the architecture\nand register class, as follows:",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_2xilifichdqu": "A register parameter modifier is a substring that starts with character 0x3A (colon), follows a register parameter, and changes the formatting of the related register parameter.",
            "fls_o3fx9397ib74": "The effects of a register parameter modifier depends on the architecture and register class, as follows: .. list-table:: -",
            "fls_3atrad53m22a": "- **Architecture** - **Register class** - **Modifier** - **Example output** -",
            "fls_5zaqgz9jc8gy": "- AArch64 - reg - none - x0 -",
            "fls_erjczjotwqc3": "- AArch64 - reg - **:w** - w0 -",
            "fls_z8m45i9xqkct": "- AArch64 - reg - **:x** - x0 -",
            "fls_adaavz3olha3": "- AArch64 - vreg - none - v0 -",
            "fls_u5dzca5f2pfm": "- AArch64 - vreg - **:b** - b0 -",
            "fls_6542a2hi5yhc": "- AArch64 - vreg - **:d** - d0 -",
            "fls_94thqwabspw2": "- AArch64 - vreg - **:h** - h0 -",
            "fls_xhp8xu8xvvgd": "- AArch64 - vreg - **:q** - q0 -",
            "fls_g0p2ebuffnxb": "- AArch64 - vreg - **:s** - s0 -",
            "fls_d0e2weni8q87": "- AArch64 - vreg - **:v** - v0 -",
            "fls_bq3p4k42tzh8": "- ARM - dreg - none - d0 -",
            "fls_l5mkfdot97fz": "- ARM - qreg - none - q0 -",
            "fls_sarl1hoq0lco": "- ARM - qreg - **:e**, **:f** - d0, d1 -",
            "fls_f4q9a0jrs4ek": "- ARM - reg - none - r0 -",
            "fls_w0hn6vkpuvpc": "- ARM - sreg - none - s0 -",
            "fls_a7bvkyh5otx5": "- RISC-V - freg - none - f0 -",
            "fls_klthi4cczkem": "- RISC-V - reg - none - x1 -",
            "fls_pizgnxvcnj46": "- x86 - kreg - none - k1 -",
            "fls_pvzfiuxka6wg": "- x86 - reg - **:e** - eax -",
            "fls_pf8yj3m81wk4": "- x86 - reg - **:x** - ax -",
            "fls_2bf3ady2idq1": "- x86 - reg_abcd - **:h** - ah -",
            "fls_x1se4r75v58o": "- x86 - reg_byte - none - al / ah -",
            "fls_rgovn5r3caif": "- x86 - xmm_reg - none - xmm0 -",
            "fls_faxm8xkhruvz": "- x86 - ymm_reg - none - ymm0 -",
            "fls_x1kkkvugpkyd": "- x86 - zmm_reg - none - zmm0 -",
            "fls_uonqmj16oqxe": "- x86 - xmm_reg, ymm_reg, zmm_reg - **:x** - xmm0 -",
            "fls_ydhwlp56vmrz": "- x86 - xmm_reg, ymm_reg, zmm_reg - **:y** - ymm0 -",
            "fls_yolqzfqbfjoh": "- x86 - xmm_reg, ymm_reg, zmm_reg - **:z** - zmm0 -",
            "fls_ojzzhoed6t9l": "- x86-32 - reg - none - eax -",
            "fls_gw56ok8llid3": "- x86-32 - reg_abcd - **:l** - al -",
            "fls_ry7qoosmjrev": "- x86-64 - reg - none - rax -",
            "fls_i0ax45x2wskd": "- x86-64 - reg - **:l** - al -",
            "fls_op4dx1rqwhsf": "- x86-64 - reg - **:r** - rax"
          }
        }
      },
      "parent_fls_id": "fls_e0896uk0mdyl",
      "sibling_fls_ids": [
        "fls_6momhvgx4w21"
      ]
    },
    {
      "fls_id": "fls_6momhvgx4w21",
      "title": "Directive Support",
      "category": 0,
      "level": 3,
      "file": "inline-assembly",
      "content": "Directive Support\n\nAn assembly directive is a request to the assembler to perform a\nparticular action or change a setting.\n\nIf an assembly code block contains stateful [assembly directive]s\nthat modify how subsequent assembly code is processed, then the\nassembly code block shall undo the effects of the stateful\n[assembly directive]s before the assembly code block is completed.\n\nThe common [assembly directive]s are as follows:\n\n#. .2byte, .4byte, .8byte\n\n#. .align, .ascii, .asciz, .alt_entry\n\n#. .balign, .balignl, .balignw, .balign, .balignl,\n .balignw, .bss, .byte\n\n#. .comm\n\n#. .data, .def, .double\n\n#. .endef, .equ, .equiv, .eqv\n\n#. .fill, .float\n\n#. .globl, .global\n\n#. .inst\n\n#. .lcomm, .long\n\n#. .octa, .option\n\n#. .private_extern, .p2align, .pushsection, .popsection\n\n#. .quad\n\n#. .scl, .section, .set, .short, .size, .skip,\n .sleb128, .space, .string\n\n#. .text, .type\n\n#. .uleb128\n\n#. .word\n\nThe following [assembly directive]s are relevant on ELF targets that\nsupport DWARF unwind info.\n\n#. .cfi_adjust_cfa_offset\n\n#. .cfi_def_cfa, .cfi_def_cfa_offset, .cfi_def_cfa_register\n\n#. .cfi_endproc, .cfi_escape\n\n#. .cfi_lsda\n\n#. .cfi_offset\n\n#. .cfi_personality\n\n#. .cfi_register, .cfi_rel_offset, .cfi_remember_state,\n .cfi_restore, .cfi_restore_state, .cfi_return_column\n\n#. .cfi_same_value, .cfi_sections, .cfi_signal_frame,\n .cfi_startproc\n\n#. .cfi_undefined\n\n#. .cfi_window_save\n\nThe following [assembly directive]s are relevant on targets with\nstructured exception handling.\n\n#. .seh_endproc, .seh_endprologue\n\n#. .seh_proc, .seh_pushreg\n\n#. .seh_savereg, .seh_setframe, .seh_stackalloc\n\nThe following [assembly directive]s are relevant on ARM targets.\n\n#. .code\n\n#. .even\n\n#. .fnstart, .fnend\n\n#. .movsp\n\n#. .save\n\n#. .thumb, .thumb_func\n\nThe following [assembly directive]s are relevant on x86 targets.\n\n#. .code16, .code32, .code64\n\n#. .nops",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_4tfod2vgz2m6": "An assembly directive is a request to the assembler to perform a particular action or change a setting.",
            "fls_3b0ab1nlo641": "If an assembly code block contains stateful [assembly directive]s that modify how subsequent assembly code is processed, then the assembly code block shall undo the effects of the stateful [assembly directive]s before the assembly code block is completed.",
            "fls_caqznttql5p8": "The common [assembly directive]s are as follows: #.",
            "fls_bcheqswo7a1": ".2byte, .4byte, .8byte #.",
            "fls_qxcl999rdwam": ".align, .ascii, .asciz, .alt_entry #.",
            "fls_2yi7kjnhkfme": ".balign, .balignl, .balignw, .balign, .balignl, .balignw, .bss, .byte #.",
            "fls_q0jp60aj81nv": ".comm #.",
            "fls_akny3esj88yy": ".data, .def, .double #.",
            "fls_9jajt7jn9cxk": ".endef, .equ, .equiv, .eqv #.",
            "fls_i7dr87fyrei8": ".fill, .float #.",
            "fls_rjzgpxt8z8x": ".globl, .global #.",
            "fls_iqrjkvgae5k": ".inst #.",
            "fls_tzb5diegx3d5": ".lcomm, .long #.",
            "fls_82nia9oagat": ".octa, .option #.",
            "fls_qg6wt4plwnw6": ".private_extern, .p2align, .pushsection, .popsection #.",
            "fls_8ci8ukk25nz3": ".quad #.",
            "fls_ysbaz052rjg4": ".scl, .section, .set, .short, .size, .skip, .sleb128, .space, .string #.",
            "fls_lbazk0g9r350": ".text, .type #.",
            "fls_2dui79hn30o7": ".uleb128 #.",
            "fls_9flwdfh5crsk": "The following [assembly directive]s are relevant on ELF targets that support DWARF unwind info. #.",
            "fls_u1c09ssrllil": ".cfi_adjust_cfa_offset #.",
            "fls_tx58qbvh3jz3": ".cfi_def_cfa, .cfi_def_cfa_offset, .cfi_def_cfa_register #.",
            "fls_anwe21ypcjws": ".cfi_endproc, .cfi_escape #.",
            "fls_43rchr5ffxsv": ".cfi_lsda #.",
            "fls_rscmbo3kbrsm": ".cfi_offset #.",
            "fls_hnol9houwn1f": ".cfi_personality #.",
            "fls_es1lo6siw702": ".cfi_register, .cfi_rel_offset, .cfi_remember_state, .cfi_restore, .cfi_restore_state, .cfi_return_column #.",
            "fls_xlk7kd26j2rm": ".cfi_same_value, .cfi_sections, .cfi_signal_frame, .cfi_startproc #.",
            "fls_x9kaplz9g1z9": ".cfi_undefined #.",
            "fls_928ermlgde11": ".cfi_window_save",
            "fls_49bkqmxwl0d2": "The following [assembly directive]s are relevant on targets with structured exception handling. #.",
            "fls_xlvkpe975b58": ".seh_endproc, .seh_endprologue #.",
            "fls_k3sy1ph0kvy": ".seh_proc, .seh_pushreg #.",
            "fls_ku6noqc0poxq": ".seh_savereg, .seh_setframe, .seh_stackalloc",
            "fls_hny0patop479": "The following [assembly directive]s are relevant on ARM targets. #.",
            "fls_jm61m237cww": ".code #.",
            "fls_wvje5eua16xm": ".even #.",
            "fls_frxn2f6v584d": ".fnstart, .fnend #.",
            "fls_x6azw3td92b3": ".movsp #.",
            "fls_twerrggztho5": ".save #.",
            "fls_s4cbxrc4ijyp": ".thumb, .thumb_func",
            "fls_2hdsgqko25l5": "The following [assembly directive]s are relevant on x86 targets. #.",
            "fls_5tzwwove8mgq": ".code16, .code32, .code64 #."
          }
        }
      },
      "parent_fls_id": "fls_e0896uk0mdyl",
      "sibling_fls_ids": [
        "fls_lv19xysy1f7e"
      ]
    },
    {
      "fls_id": "fls_a3joqzqp1v9d",
      "title": "ABI Clobbers",
      "category": 0,
      "level": 2,
      "file": "inline-assembly",
      "content": "ABI Clobbers\n\n AbiKindList ::=\n AbiKind ($$,$$ AbiKind)* $$,$$?\n\nAn ABI clobber is an argument to macro core::arch::asm which\nindicates that the [value]s of selected [register]s might be\noverwritten during the execution of an assembly code block.\n\nMultiple [ABI clobber]s may be specified for an assembly code block.\nClobber constraints are applied for all unique [register]s in the union of\nall specified [ABI]s.\n\nThe effects of an ABI clobber depend on the ABI in effect, as follows:\n\nOn x86 architectures, the x87 floating-point register stack shall remain\nunchanged unless all st(\\ [0-7]\\ ) [register]s have been\nclobbered.\n\nOn x86 architectures, if all x87 [register]s are clobbered, then the x87\nregister stack is presumed empty upon entry of an assembly code block.\nThe x87 register stack shall be empty on exit from an\nassembly code block.",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_xa11ggykg0sh": "An ABI clobber is an argument to macro core::arch::asm which indicates that the [value]s of selected [register]s might be overwritten during the execution of an assembly code block.",
            "fls_e43sj9inlsym": "Multiple [ABI clobber]s may be specified for an assembly code block. Clobber constraints are applied for all unique [register]s in the union of all specified [ABI]s.",
            "fls_gq2khxl1hixg": "The effects of an ABI clobber depend on the ABI in effect, as follows: .. list-table:: -",
            "fls_o2qn842y0vvc": "- **Architecture** - AbiKind - **Clobbered registers** -",
            "fls_msysjt5m2941": "- AArch64 - \"C\", \"efiapi\", \"system\" - ffr, p[0-15], v[0-31], x[0-17], x18 (when not reserved), x30 -",
            "fls_vyhl5po6pl4x": "- ARM - \"aapcs\", \"C\", \"efiapi\", \"system\" - d[0-7], d[16-31], r[0-3], r12, r14, s[0-15] -",
            "fls_d1be48ik4a8": "- RISC-V - \"C\", \"efiapi\", \"system\" - f[0-7], f[10-17], f[28-31], v[0-31], x1, x[5-7], x[10-17], x[28-31] -",
            "fls_49pus6qqmf72": "- x86-32 - \"C\", \"cdecl\", \"efiapi\", \"fastcall\", \"stdcall\", \"system\" - ax, cx, dx, k[0-7], mm[0-7], st([0-7]), xmm[0-7] -",
            "fls_tc727ietnawz": "- x86-64 - \"C\", \"efiapi\", \"system\" (on Windows), \"win64\" - ax, cx, dx, k[0-7], mm[0-7], st([0-7]), r[8-11], tmm[0-7], xmm[0-31] -",
            "fls_6jgsmfvww667": "- x86-64 - \"C\", \"system\" (on non-Windows), \"sysv64\" - ax, cx, di, dx, k[0-7], mm[0-7], r[8-11], si, st([0-7]), tmm[0-7], xmm[0-31]",
            "fls_gvzoq5mqwjx": "On x86 architectures, the x87 floating-point register stack shall remain unchanged unless all st(\\ [0-7]\\ ) [register]s have been clobbered.",
            "fls_bnwzzpcmiero": "On x86 architectures, if all x87 [register]s are clobbered, then the x87 register stack is presumed empty upon entry of an assembly code block. The x87 register stack shall be empty on exit from an assembly code block."
          }
        },
        "-8": {
          "paragraphs": {
            "syntax_1": "AbiClobber ::=\n       $$clobber_abi$$ $$($$ AbiKindList $$)$$\n\n   AbiKindList ::=\n       AbiKind ($$,$$ AbiKind)* $$,$$?"
          }
        }
      },
      "parent_fls_id": "fls_z1il3w9nulzy",
      "sibling_fls_ids": [
        "fls_j9l8wn6wgm06",
        "fls_pz2ioqchjtym",
        "fls_hejgghwzblf",
        "fls_e0896uk0mdyl",
        "fls_ylli0ortyegk",
        "fls_qezwyridmjob",
        "fls_MW7mtH5oOeQ1"
      ]
    },
    {
      "fls_id": "fls_ylli0ortyegk",
      "title": "Assembly Options",
      "category": 0,
      "level": 2,
      "file": "inline-assembly",
      "content": "Assembly Options\n\n OptionList ::=\n Option ($$,$$ Option)* $$,$$?\n\n Option ::=\n $$att_syntax$$\n | $$nomem$$\n | $$noreturn$$\n | $$nostack$$\n | $$preserves_flags$$\n | $$pure$$\n | $$raw$$\n | $$readonly$$\n\nAn assembly option is used to specify a characteristic of or a restriction\non the related assembly code block.\n\nAssembly option :dc:`att_syntax` is applicable only to x86 architectures\nand causes the assembler to use the .att_syntax prefix mode which prefixes\n[register]s with %.\n\nAssembly option nomem indicates that the assembly code block does\nnot read or write memory.\n\nAssembly option noreturn indicates that the assembly code block\ndoes not return, preventing the dropping of [variable]s.\n\nAssembly option nostack indicates that the assembly code block\ndoes not push on the stack, or write to the stack red-zone (if supported).\n\nIf assembly option nostack is not in effect, then an\nassembly code block is allowed to use stack space below the stack pointer.\nUpon entry of an assembly code block, the stack pointer is suitably\naligned according to the target ABI for [call expression]s. The stack\npointer shall be restored to its original value on exit from the\nassembly code block.\n\nAssembly option preserves_flags indicates that the\nassembly code block does not modify the flags register.\n\nIf assembly option preserves_flags is in effect, then the [value]s\nof the following flags [register]s shall be restored on exit from an\nassembly code block:\n\nAssembly option pure indicates that the assembly code block has no\nside effects, and its outputs depend only on direct inputs.\n\nAssembly option :dc:`raw` causes [assembly instruction]s to be parsed\nraw, without any special handling of [register parameter]s.\n\nAssembly option readonly indicates that the assembly code block\ndoes not write memory.\n\n[Assembly option]s att_syntax and raw shall appear only in\nGlobalAsmArguments.\n\n[Assembly option]s nomem and readonly shall not be used together.\n\nAssembly option noreturn shall not be specified on an\nassembly code block that has [output register]s.\n\nAssembly option pure shall appear with either assembly option\nnomem or assembly option readonly.\n\nAssembly option pure shall not be specified on an\nassembly code block that either lacks [output register]s or all\n[register expression]s of [output register]s are\n[underscore expression]s.\n\nIt is undefined behavior if an assembly code block subject to\nassembly option pure has side effects other than its direct outputs.\n\nIt is undefined behavior if control reaches the end of an\nassembly code block subject to assembly option noreturn.",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_i21l6t3vn95t": "An assembly option is used to specify a characteristic of or a restriction on the related assembly code block.",
            "fls_g09kmp2a04g9": "Assembly option :dc:att_syntax is applicable only to x86 architectures and causes the assembler to use the .att_syntax prefix mode which prefixes [register]s with %.",
            "fls_quer8ltdwnf2": "Assembly option nomem indicates that the assembly code block does not read or write memory.",
            "fls_5wpgqpcm1v40": "Assembly option noreturn indicates that the assembly code block does not return, preventing the dropping of [variable]s.",
            "fls_ejuap3kkvs57": "Assembly option nostack indicates that the assembly code block does not push on the stack, or write to the stack red-zone (if supported).",
            "fls_1nopbk5bkeqm": "If assembly option nostack is not in effect, then an assembly code block is allowed to use stack space below the stack pointer. Upon entry of an assembly code block, the stack pointer is suitably aligned according to the target ABI for [call expression]s. The stack pointer shall be restored to its original value on exit from the assembly code block.",
            "fls_e5b1mp3byll2": "Assembly option preserves_flags indicates that the assembly code block does not modify the flags register.",
            "fls_2gf4wemrzaae": "If assembly option preserves_flags is in effect, then the [value]s of the following flags [register]s shall be restored on exit from an assembly code block: .. list-table:: -",
            "fls_5ebifab8dhy": "- **Architecture** - **Flag registers** -",
            "fls_ae2x4ho3i0zr": "- AArch64 - Floating-point status FPRS register Condition flags NZCV register -",
            "fls_188ib65a1z36": "- ARM - Condition flags C, N, V, Z in register CPSR Condition flags C, N, V, Z in register FPSCR Floating-point exception flags DZC, IDC, IOC, IXC, OFC, UFC in register FPSCR Greater than or equal flag GE in register CPRS Saturation flag Q in register CPRS Saturation flag QC in register FPSCR -",
            "fls_ia3cg424d601": "- RISC-V - Floating-point exception flags fflags in register fcsr Vector extension state vcsr, vl, vtype -",
            "fls_j09bo53i5n69": "- x86 - Status flags AF, CF, OF, PF, SF, ZF in register EFLAGS Floating-point exception flags DE, IE, OE, PE, UE, ZE in register MXCSR Floating-point status word",
            "fls_eka6chp3hapa": "Assembly option pure indicates that the assembly code block has no side effects, and its outputs depend only on direct inputs.",
            "fls_nszx1gllufi2": "Assembly option :dc:raw causes [assembly instruction]s to be parsed raw, without any special handling of [register parameter]s.",
            "fls_d169ppna563c": "Assembly option readonly indicates that the assembly code block does not write memory.",
            "fls_h8549stij7pj": "[Assembly option]s att_syntax and raw shall appear only in GlobalAsmArguments.",
            "fls_2drikpht6md9": "[Assembly option]s nomem and readonly shall not be used together.",
            "fls_x66j1cn6zi6p": "Assembly option noreturn shall not be specified on an assembly code block that has [output register]s.",
            "fls_ikwbu1ho33is": "Assembly option pure shall appear with either assembly option nomem or assembly option readonly.",
            "fls_nf0h9crdzhfg": "Assembly option pure shall not be specified on an assembly code block that either lacks [output register]s or all [register expression]s of [output register]s are [underscore expression]s."
          }
        },
        "-4": {
          "paragraphs": {
            "fls_wh0wasawjj5s": "It is undefined behavior if an assembly code block subject to assembly option pure has side effects other than its direct outputs.",
            "fls_s0ivlbjefh1u": "It is undefined behavior if control reaches the end of an assembly code block subject to assembly option noreturn."
          }
        },
        "-8": {
          "paragraphs": {
            "syntax_1": "AssemblyOption ::=\n       $$options$$ $$($$ OptionList $$)$$\n\n   OptionList ::=\n       Option ($$,$$ Option)* $$,$$?\n\n   Option ::=\n       $$att_syntax$$\n     | $$nomem$$\n     | $$noreturn$$\n     | $$nostack$$\n     | $$preserves_flags$$\n     | $$pure$$\n     | $$raw$$\n     | $$readonly$$"
          }
        }
      },
      "parent_fls_id": "fls_z1il3w9nulzy",
      "sibling_fls_ids": [
        "fls_j9l8wn6wgm06",
        "fls_pz2ioqchjtym",
        "fls_hejgghwzblf",
        "fls_e0896uk0mdyl",
        "fls_a3joqzqp1v9d",
        "fls_qezwyridmjob",
        "fls_MW7mtH5oOeQ1"
      ]
    },
    {
      "fls_id": "fls_qezwyridmjob",
      "title": "Macros: asm, global_asm, and naked_asm",
      "category": 0,
      "level": 2,
      "file": "inline-assembly",
      "content": "Macros: asm, global_asm, and naked_asm\n\n GlobalAsmArguments ::=\n $$($$ AssemblyCodeBlock ($$,$$ RegisterArgument)* ($$,$$ AssemblyOption)* $$,$$? $$)$$\n\n LabelBlock ::=\n $$block$$ $${$$ StatementList $$}$$\n\n[Assembly code block]s are embedded within Rust source code using\n[macro]s core::arch::asm,\ncore::arch::global_asm, and\ncore::arch::naked_asm.\n\nWhen invoking macro core::arch::asm, the DelimitedTokenTree of\nthe related macro invocation shall follow the syntax of AsmArguments.\n\nInvoking macro core::arch::asm causes the related\nassembly code block to be integrated into the generated assembly of the\nfunction where the macro invocation took place. A tool is free to\nencapsulate the assembly code block in a separate function and\ngenerate a call expression to it.\n\nWhen invoking macro core::arch::global_asm and\nmacro core::arch::naked_asm, the\nDelimitedTokenTree of the related macro invocation shall follow the\nsyntax of GlobalAsmArguments.\n\nInvoking macro core::arch::global_asm causes the related\nassembly code block to be emitted outside the function where the\nmacro invocation took place.\n\nThe only [register argument]s that can be used with [macro]s\ncore::arch::global_asm and core::arch::naked_asm are\nconst <const register expression> and sym <sym path expression>.\n\nThe only [assembly option]s that can be used with [macro]s\ncore::arch::global_asm and core::arch::naked_asm are att_syntax and raw.\n\nThe evaluation of a macro invocation to macro\ncore::arch::asm or macro core::arch::global_asm evaluates\n[register argument]s in declarative order.\n\nThe execution of an assembly code block produced by\ninline assembly proceeds as follows:\n\n#. All [input register]s are initialized to the [value]s provided by\n the respective [register argument]s, in an undefined order.\n\n#. The [assembly instruction]s of the assembly code block are executed\n in declarative order.\n\n#. The [value]s of all [output register]s are assigned to the\n [register expression]s provided by the respective\n [register argument]s, in an undefined order.",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_ecteot716j8j": "[Assembly code block]s are embedded within Rust source code using [macro]s core::arch::asm, core::arch::global_asm, and core::arch::naked_asm.",
            "fls_1ikzov7cxic1": "When invoking macro core::arch::asm, the DelimitedTokenTree of the related macro invocation shall follow the syntax of AsmArguments.",
            "fls_4lb6yh12w1cv": "Invoking macro core::arch::asm causes the related assembly code block to be integrated into the generated assembly of the function where the macro invocation took place. A tool is free to encapsulate the assembly code block in a separate function and generate a call expression to it.",
            "fls_tgzga1lanfuo": "When invoking macro core::arch::global_asm and macro core::arch::naked_asm, the DelimitedTokenTree of the related macro invocation shall follow the syntax of GlobalAsmArguments.",
            "fls_nfkbvs86d6kz": "Invoking macro core::arch::global_asm causes the related assembly code block to be emitted outside the function where the macro invocation took place.",
            "fls_PEoOGTBjuEQc": "The only [register argument]s that can be used with [macro]s core::arch::global_asm and core::arch::naked_asm are const <const register expression> and sym <sym path expression>.",
            "fls_vcB5xwgD6Ign": "The only [assembly option]s that can be used with [macro]s core::arch::global_asm and core::arch::naked_asm are att_syntax and raw."
          }
        },
        "-3": {
          "paragraphs": {
            "fls_98vyqh9bzigx": "The evaluation of a macro invocation to macro core::arch::asm or macro core::arch::global_asm evaluates [register argument]s in declarative order.",
            "fls_ppnj8bcncdp9": "The execution of an assembly code block produced by inline assembly proceeds as follows: #.",
            "fls_wmay1vd8u0da": "All [input register]s are initialized to the [value]s provided by the respective [register argument]s, in an undefined order. #.",
            "fls_e613hpr50t9": "The [assembly instruction]s of the assembly code block are executed in declarative order. #.",
            "fls_bic6iyd1nvfm": "The [value]s of all [output register]s are assigned to the [register expression]s provided by the respective [register argument]s, in an undefined order."
          }
        },
        "-8": {
          "paragraphs": {
            "syntax_1": "AsmArguments ::=\n       $$($$ AssemblyCodeBlock ($$,$$ LabelBlock)? ($$,$$ RegisterArgument)* ($$,$$ AbiClobber)* ($$,$$ AssemblyOption)* $$,$$? $$)$$\n\n   GlobalAsmArguments ::=\n       $$($$ AssemblyCodeBlock ($$,$$ RegisterArgument)* ($$,$$ AssemblyOption)* $$,$$? $$)$$\n\n   LabelBlock ::=\n       $$block$$ $${$$ StatementList $$}$$"
          }
        }
      },
      "parent_fls_id": "fls_z1il3w9nulzy",
      "sibling_fls_ids": [
        "fls_j9l8wn6wgm06",
        "fls_pz2ioqchjtym",
        "fls_hejgghwzblf",
        "fls_e0896uk0mdyl",
        "fls_a3joqzqp1v9d",
        "fls_ylli0ortyegk",
        "fls_MW7mtH5oOeQ1"
      ]
    },
    {
      "fls_id": "fls_MW7mtH5oOeQ1",
      "title": "Label block",
      "category": 0,
      "level": 2,
      "file": "inline-assembly",
      "content": "Label block\n\nA label block is a block expression whose memory address is substituted into an assembly code block.\n\nThe type of the label block must be unit type or never type.\n\nA label block does not propagate its [unsafe context] to its contained [statement]s.",
      "rubrics": {
        "-2": {
          "paragraphs": {
            "fls_ZKMMqhBRe5lJ": "A label block is a block expression whose memory address is substituted into an assembly code block.",
            "fls_vJT3iAG1ZLh3": "The type of the label block must be unit type or never type.",
            "fls_ER0GVQE9N7oH": "A label block does not propagate its [unsafe context] to its contained [statement]s."
          }
        }
      },
      "parent_fls_id": "fls_z1il3w9nulzy",
      "sibling_fls_ids": [
        "fls_j9l8wn6wgm06",
        "fls_pz2ioqchjtym",
        "fls_hejgghwzblf",
        "fls_e0896uk0mdyl",
        "fls_a3joqzqp1v9d",
        "fls_ylli0ortyegk",
        "fls_qezwyridmjob"
      ]
    }
  ]
}